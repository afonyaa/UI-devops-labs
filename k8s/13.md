# K8s StatefulSet

### Output in terminal for stateful set

```
(devops) user@mbp-user k8s % kubectl get po,sts,svc,pvc
 NAME                                     READY   STATUS    RESTARTS       AGE
 pod/node-app-helm-0                    1/1     Running   0              21m
 pod/node-app-helm-1                    1/1     Running   0              21m

 NAME                                   READY   AGE
 statefulset.apps/node-app-helm       2/2     100s

 NAME                          TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE
 service/kubernetes            ClusterIP      10.96.0.1      <none>        443/TCP        26d
 service/node-app   LoadBalancer   10.107.9.80    <pending>     80:32531/TCP   21m

 NAME                                                            STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
 persistentvolumeclaim/node-volume-0                           Bound    pvc-p894a37c-651e-9375-0dh3-ce934fdca947   64Mi       RWO            standard       21m
 persistentvolumeclaim/node-volume-1                           Bound    pvc-12kd7dc1-e5cb-4014-87c5-4b94j3074459   64Mi       RWO            standard       21m
 ```

### Output for visits

```
(devops) user@evgeny k8s % kubectl exec pod/node-app-helm-0 -- cat visits
Current Moscow Time: 12:59:33
Current Moscow Time: 12:59:44
Current Moscow Time: 13:00:01
Current Moscow Time: 13:00:02
Current Moscow Time: 13:00:02
Current Moscow Time: 13:00:02
Current Moscow Time: 13:00:11

(devops) user@evgeny k8s % kubectl exec pod/node-app-helm-01 -- cat visits
Current Moscow Time: 12:59:35
Current Moscow Time: 12:59:58
Current Moscow Time: 13:00:03
Current Moscow Time: 13:00:11
```

App is independent of replicas, so no ordering is necessary.

In order to run pods in parallel we can simply add  
**podManagementPolicy: "Parallel"**  
property to our **values.yaml** file for both apps

